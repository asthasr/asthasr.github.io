<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.121.2">

  
  <meta name="description" content="Opinions and discussions of various topics, mostly related to programming.">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://asthasr.github.io/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://asthasr.github.io/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://asthasr.github.io/favicon-16x16.png">

  
  <link rel="manifest" href="https://asthasr.github.io/site.webmanifest">

  
  <link rel="mask-icon" href="https://asthasr.github.io/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://asthasr.github.io/css/bootstrap.min.css" />

  
  <link rel="stylesheet" href="https://asthasr.github.io/css/custom.css" />

  
  <title>Abstraction is Okay, Magic is Not | data Blog = Blog { me :: Programmer, posts :: [Opinion] }</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #f8fafc;
}



body {
  color: #294656;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #a9c6d6;
}



.custom-navbar a {
  color: #294656;
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}


div.title {
    font-family: monospace;
    size: 600%;
    padding: 10px;
    background-color: #294656;
    color: #f8fafc;
}

</style>

  <meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Abstraction is Okay, Magic is Not"/>
<meta name="twitter:description" content="You encounter a crusty old-timer who tells you how great programming used to be: the computer just did what you told it. Languages were simple and easy to understand. In awe, you ask: &ldquo;Did you write FORTRAN? or assembly?&rdquo; The old-timer laughs: he&rsquo;s not that old. He started with C!
It&rsquo;s common to think of C and other &ldquo;old&rdquo; languages as being &ldquo;close to the machine,&rdquo; but that&rsquo;s because the Unix abstractions have become so ubiquitous that we no longer think of them as abstractions."/>


  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ZEELKPFTWV"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-ZEELKPFTWV');
  </script>
<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
	integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
	integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
	integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

</head>


<body>
  <script>MathJax = {tex: { inlineMath: [['$', '$']] }};</script>
<script id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-chtml.js">
</script>
<div class="title">
    data Blog = Blog { me :: Programmer, posts :: [Opinion] }
</div>
<nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/index.xml">RSS</a>
    
  </div>
</nav>

  
  <div class="container">
    <article>
      <h1>Abstraction is Okay, Magic is Not</h1>
<p>You encounter a crusty old-timer who tells you how great programming
used to be: the computer just did what you told it.  Languages were
simple and easy to understand. In awe, you ask: &ldquo;Did you write FORTRAN?
or assembly?&rdquo; The old-timer laughs: he&rsquo;s not <em>that</em> old. He started with
C!</p>
<p>It&rsquo;s common to think of C and other &ldquo;old&rdquo; languages as being &ldquo;close to
the machine,&rdquo; but that&rsquo;s because the Unix abstractions have become so
ubiquitous that we no longer think of them as abstractions.  They feel
natural, and they don&rsquo;t leak until you need to do a lot of math or
figure out why your program is so slow.</p>
<p>Magic is different. It <em>feels</em> different. When you encounter something
magical, it may work, but you aren&rsquo;t sure why. Worse, you can&rsquo;t trust
it. A hallmark of magical frameworks is being slightly &ldquo;wrong:&rdquo; you need
to specify that you are expecting a <code>Token</code> prefix in the
<code>Authorization</code> header, but the <code>@Authorized</code> annotation only lets you
check for a <code>Bearer</code> token and where <em>are</em> those classes, anyway?</p>
<p>A successful abstraction is presented as a set of tools. There may need
to be escape hatches, and a good abstraction includes semantics around
them that, if not elegant, are at least usable. The places where &ldquo;leaks&rdquo;
occur are signposted.</p>
<p>Magic, on the other hand, is presented as certainty. It isn&rsquo;t a set of
tools, but a holistic solution. Any escape is going to involve dark
arts.</p>
<p>Abstractions don&rsquo;t spring from nothing. They require a well-understood
domain, and successful ones are often narrow because of that. The more
detail and edge cases that must be dealt with, the more complicated an
abstraction must be to deal with them.</p>
<p>When I&rsquo;m writing code, I try to consider whether I&rsquo;m solving the problem
at hand or trying to solve <em>the problem of solving the problem.</em> I think
the latter is a hallmark of magical approaches: &ldquo;I have a perfect
understanding of what&rsquo;s necessary to solve this class of problem. I&rsquo;ll
make it Really Easy and nobody will have to think about it again.&rdquo;</p>
<p>That&rsquo;s not what happens, though, is it? If you give in to the
temptation, you&rsquo;ll write something that obscures rather than revealing
intent. Your successors (including your future self) will curse you. If
I find myself slipping into that mentality, I back up and think:</p>
<ol>
<li>What are the &ldquo;nouns&rdquo; of this problem?</li>
<li>What are the &ldquo;verbs?&rdquo;</li>
<li>How can I present a &ldquo;sentence&rdquo; that makes my intent clear?</li>
</ol>
<p>Next month, there may be a noun I overlooked that needs to be handled.
There may be a new operation that needs to be implemented. It&rsquo;s very
unlikely that the thousand lines I wrote to &ldquo;solve the problem in five
lines of code&rdquo; will bend to fit as easily as a module, a couple of
types, and a half-dozen functions will.</p>

    </article>
  </div>

  
  
  

  

  
  

</body>

</html>
